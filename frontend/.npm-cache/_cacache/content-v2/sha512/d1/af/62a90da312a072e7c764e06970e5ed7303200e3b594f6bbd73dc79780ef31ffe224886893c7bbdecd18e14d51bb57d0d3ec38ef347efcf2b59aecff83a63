{"_id":"@zackad/prettier-plugin-twig-melody","_rev":"3-ec7d4f40b06aec284fb01fa85fa6da55","name":"@zackad/prettier-plugin-twig-melody","dist-tags":{"latest":"0.6.0"},"versions":{"0.5.0":{"name":"@zackad/prettier-plugin-twig-melody","version":"0.5.0","author":{"name":"Tom Bartel","email":"thomas.bartel@trivago.com"},"license":"Apache-2.0","_id":"@zackad/prettier-plugin-twig-melody@0.5.0","maintainers":[{"name":"zackad","email":"zackad.dev@gmail.com"}],"homepage":"https://github.com/zackad/prettier-plugin-twig-melody#readme","bugs":{"url":"https://github.com/zackad/prettier-plugin-twig-melody/issues"},"dist":{"shasum":"0db5fd4218aa9c0f271d8614557ebfa49c949cae","tarball":"https://registry.npmjs.org/@zackad/prettier-plugin-twig-melody/-/prettier-plugin-twig-melody-0.5.0.tgz","fileCount":55,"integrity":"sha512-IDZoE65jqheZTxG4TB25OrHmE9Oxrr6z1M29/z4sSq/oTM4YCNoXnWsffBRI7oqPt9UQWbHDt+L7eDT84PiA6Q==","signatures":[{"sig":"MEUCIDXFdVS2hOX5WPui5yqQQEUu3DQ3s4gB4t9e2eyEWkXLAiEAxnNnS6OTQlneshWKp94vIEA0B9fAP2vjusgan9rPaZQ=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":108984},"jest":{"projects":["<rootDir>/jest.*.config.js"]},"main":"src","engines":{"node":">=18"},"gitHead":"9c97aca93276e8b7f90520b2f4b034a7bc79946f","scripts":{"lint":"jest -c jest.eslint.config.js","test":"jest","publish":"npm publish","prettier":"prettier --plugin=. --parser=melody"},"_npmUser":{"name":"zackad","email":"zackad.dev@gmail.com"},"deprecated":"This package has been renamed into @zackad/prettier-plugin-twig.","repository":{"url":"git+https://github.com/zackad/prettier-plugin-twig-melody.git","type":"git"},"_npmVersion":"10.2.4","description":"Prettier Plugin for Twig/Melody","directories":{},"_nodeVersion":"20.11.0","dependencies":{"resolve":"^1.12.0","prettier":"^2.3.0 || ^3.0.0","babel-types":"^6.26.0","melody-types":"^1.7.5","melody-parser":"^1.7.5","melody-traverse":"^1.7.5","melody-extension-core":"^1.7.5"},"_hasShrinkwrap":false,"devDependencies":{"jest":"^30.0.0-alpha.3","eslint":"^8.56.0","eslint-plugin-jest":"^27.9.0","jest-runner-eslint":"^2.1.2","eslint-plugin-import":"^2.29.1","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^4.0.0 || ^5.0.0","eslint-plugin-prettier-doc":"^1.1.0"},"_npmOperationalInternal":{"tmp":"tmp/prettier-plugin-twig-melody_0.5.0_1711522208728_0.7989389181639674","host":"s3://npm-registry-packages"}},"0.6.0":{"name":"@zackad/prettier-plugin-twig-melody","version":"0.6.0","author":{"name":"Tom Bartel","email":"thomas.bartel@trivago.com"},"license":"Apache-2.0","_id":"@zackad/prettier-plugin-twig-melody@0.6.0","maintainers":[{"name":"zackad","email":"zackad.dev@gmail.com"}],"homepage":"https://github.com/zackad/prettier-plugin-twig-melody#readme","bugs":{"url":"https://github.com/zackad/prettier-plugin-twig-melody/issues"},"dist":{"shasum":"e66ae9b11b94d172ec74fd082e2e91b88ed4bff8","tarball":"https://registry.npmjs.org/@zackad/prettier-plugin-twig-melody/-/prettier-plugin-twig-melody-0.6.0.tgz","fileCount":55,"integrity":"sha512-1sBQV8HqruiImidjui7KxqPxEskssCGRpKgWn7/jmmA8l2HGmX25adTX2LQYYITO78otRQyiOHcoVCIWZCsjSg==","signatures":[{"sig":"MEUCIDb+gqyNklcMmmzA+ncnG8lvEJC21/p8JTF6ESBNlubnAiEAnLXxg+osa3hDQHG0u4EPgogwEpnZnTVp+fPcTWg5uj0=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":108992},"jest":{"projects":["<rootDir>/jest.*.config.js"]},"main":"src","engines":{"node":">=18"},"gitHead":"f7ac8c06b9d4038dc6bde199cabd28a96fb13ff8","scripts":{"lint":"jest -c jest.eslint.config.js","test":"jest","publish":"npm publish","prettier":"prettier --plugin=. --parser=melody"},"_npmUser":{"name":"zackad","email":"zackad.dev@gmail.com"},"deprecated":"This package has been renamed into @zackad/prettier-plugin-twig.","repository":{"url":"git+https://github.com/zackad/prettier-plugin-twig-melody.git","type":"git"},"_npmVersion":"10.2.4","description":"Prettier Plugin for Twig/Melody","directories":{},"_nodeVersion":"20.11.0","dependencies":{"resolve":"^1.12.0","prettier":"^2.3.0 || ^3.0.0","babel-types":"^6.26.0","melody-types":"^1.7.5","melody-parser":"^1.7.5","melody-traverse":"^1.7.5","melody-extension-core":"^1.7.5"},"_hasShrinkwrap":false,"devDependencies":{"jest":"^30.0.0-alpha.3","eslint":"^8.56.0","eslint-plugin-jest":"^27.9.0","jest-runner-eslint":"^2.1.2","eslint-plugin-import":"^2.29.1","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^4.0.0 || ^5.0.0","eslint-plugin-prettier-doc":"^1.1.0"},"_npmOperationalInternal":{"tmp":"tmp/prettier-plugin-twig-melody_0.6.0_1711523517489_0.1497661895252269","host":"s3://npm-registry-packages"}}},"time":{"created":"2024-03-27T06:50:08.630Z","modified":"2024-08-09T03:05:49.738Z","0.5.0":"2024-03-27T06:50:08.850Z","0.6.0":"2024-03-27T07:11:57.676Z"},"bugs":{"url":"https://github.com/zackad/prettier-plugin-twig-melody/issues"},"author":{"name":"Tom Bartel","email":"thomas.bartel@trivago.com"},"license":"Apache-2.0","homepage":"https://github.com/zackad/prettier-plugin-twig-melody#readme","repository":{"url":"git+https://github.com/zackad/prettier-plugin-twig-melody.git","type":"git"},"description":"Prettier Plugin for Twig/Melody","maintainers":[{"name":"zackad","email":"zackad.dev@gmail.com"}],"readme":"# Prettier for Melody\n\n![Prettier Banner](https://raw.githubusercontent.com/prettier/prettier-logo/master/images/prettier-banner-light.png)\n\n![GitHub Actions Workflow Status](https://img.shields.io/github/actions/workflow/status/zackad/prettier-plugin-twig-melody/ci.yaml?branch=master&style=for-the-badge&logo=github)\n![GitHub License](https://img.shields.io/github/license/zackad/prettier-plugin-twig-melody?style=for-the-badge)\n![GitHub Release](https://img.shields.io/github/v/release/zackad/prettier-plugin-twig-melody?display_name=release&style=for-the-badge&logo=github)\n![GitHub Tag](https://img.shields.io/github/v/tag/zackad/prettier-plugin-twig-melody?style=for-the-badge)\n\n---\n\nThis Plugin enables Prettier to format `.twig` files, as well as `.html.twig` and `.melody.twig`. [Melody](https://melody.js.org) is a component based UI framework that uses Twig as its template language.\n\n## Install\n\n```bash\nyarn add --dev @zackad/prettier-plugin-twig-melody\n```\n\n## Use\n\n```bash\nprettier --write \"**/*.melody.twig\"\n```\n\nIn your editor, if the plugin is not automatically picked up and invoked (e.g., if you are using format on save, but no formatting is happening when you save), try adding the plugin explicitly in your Prettier configuration (e.g., `.prettierrc.json`) using the `plugins` key:\n\n```json\n{\n    \"printWidth\": 80,\n    \"tabWidth\": 4,\n    \"plugins\": [\"@zackad/prettier-plugin-twig-melody\"]\n}\n```\n\n## Options\n\nThis Prettier plugin comes with some options that you can add to your Prettier configuration (e.g., `prettierrc.json`).\n\n### twigSingleQuote (default: `true`)\n\nValues can be `true` or `false`. If `true`, single quotes will be used for string literals in Twig files.\n\n### twigMelodyPlugins (default: `[]`)\n\nAn array containing file paths to plugin directories. This can be used to add your own printers and parser extensions.\n\nThe paths are relative paths, seen from the project root. Example:\n\n```json\n\"twigMelodyPlugins\": [\"src-js/some-melody-plugin\", \"src-js/some-other-plugin\"]\n```\n\n### twigPrintWidth (default: `80`)\n\nBecause Twig files might have a lot of nesting, it can be useful to define a separate print width for Twig files. This can be done with this option. If it is not set, the standard `printWidth` option is used.\n\n### twigAlwaysBreakObjects (default: `false`)\n\nIf set to `true`, objects will always be wrapped/broken, even if they would fit on one line:\n\n```html\n<section\n    class=\"{{ {\n    base: css.prices\n} | classes }}\"\n></section>\n```\n\nIf set to `false` (default value), this would be printed as:\n\n```html\n<section class=\"{{ { base: css.prices } | classes }}\"></section>\n```\n\n### twigFollowOfficialCodingStandards (default: `true`)\n\nFollow the standards described in [https://twig.symfony.com/doc/2.x/coding_standards.html](https://twig.symfony.com/doc/2.x/coding_standards.html) exactly. If set to `false`, some slight deviations might occur, such as spaces around the filter `|` operator (`s | upper` instead of `s|upper`).\n\n### twigOutputEndblockName (default: `false`)\n\nChoose whether to output the block name in `{% endblock %}` tags (e.g., `{% endblock content %}`) or not. The default is not to output it.\n\n### twigMultiTags (default: `[]`)\n\nAn array of coherent sequences of non-standard Twig tags that should be treated as belonging together. Example (inspired by [Craft CMS](https://docs.craftcms.com/v2/templating/nav.html)):\n\n```json\ntwigMultiTags: [\n    \"nav,endnav\",\n    \"switch,case,default,endswitch\",\n    \"ifchildren,endifchildren\",\n    \"cache,endcache\"\n]\n```\n\nLooking at the case of `nav,endnav`, this means that the Twig tags `{% nav %}` and `{% endnav %}` will be treated as a pair, and everything in between will be indented:\n\n```twig\n{% nav entry in entries %}\n    <li>\n        <a href=\"{{ entry.url }}\">{{ entry.title }}</a>\n    </li>\n{% endnav %}\n```\n\nIf we did not list the `\"nav,endnav\"` entry in `twigMultiTags`, this code example would be printed without indentation, because `{% nav %}` and `{% endnav %}` would be treated as unrelated, individual Twig tags:\n\n```twig\n{% nav entry in entries %}\n<li>\n    <a href=\"{{ entry.url }}\">{{ entry.title }}</a>\n</li>\n{% endnav %}\n```\n\nNote that the order matters: It has to be `\"nav,endnav\"`, and it must not be `\"endnav,nav\"`. In general, the first and the last tag name matter. In the case of `\"switch,case,default,endswitch\"`, the order of `case` and `default` does not matter. However, `switch` has to come first, and `endswitch` has to come last.\n\n## Features\n\n### `prettier-ignore` and `prettier-ignore-start`\n\nWhen you are not happy with how Prettier formats a certain element or section in the code, you can tell it to leave it in peace:\n\n```\n{# prettier-ignore #}\n<div   class=\"weird-formatting\"   >This will not be re-formatted</div>\n\n<div   class=\"weird-formatting\"   >But this will be</div>\n```\n\nYou can also tell Prettier to leave entire regions as they are:\n\n```\n{# prettier-ignore-start #}\n    ...\n{# prettier-ignore-end #}\n```\n\n## Plugins\n\n[Melody](https://melody.js.org) features an extensible parser, so chances are you add custom elements for which the parsing and printing logic is not part of this Prettier plugin. Therefore, this Prettier plugin is itself pluggable.\n\nLet's look at an example of a plugin to the plugin:\n\n```javascript\nconst melodyIconPlugin = require(\"../melody-plugin-icon-tag\");\n\nconst printIconTag = (node, path, print, options) => {\n    // Implementation of printing\n    // ...\n};\n\nmodule.exports = {\n    melodyExtensions: [melodyIconPlugin],\n    printers: {\n        IconTag: printIconTag\n    }\n};\n```\n\nAs we can see, a plugin to the plugin exports two fields:\n\n-   `melodyExtensions`: A list of extensions to the [Melody](https://melody.js.org) framework that might export `tags`, `visitors`, `functionMap` and the like. Usually, such an extension will add additional parsing functionality to the core parser.\n-   `printers`: The Prettier printing functionality for your additional language constructs, tags, operators, etc. This is an object where the keys are the node types in the Melody AST (abstract syntax tree) &mdash; as retrieved through `node.constructor.name` &mdash;, and the values are the print functions with the standard Prettier signature.\n\nDon't forget to make your plugins known through the `twigMelodyPlugins` option in your Prettier configuration.\n\n## Testing\n\n-   You can call `yarn test`to test against all regular tests\n","readmeFilename":"README.md"}